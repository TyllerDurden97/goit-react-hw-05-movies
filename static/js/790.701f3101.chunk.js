"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[790],{790:function(e,s,i){i.r(s),i.d(s,{default:function(){return x}});var t=i(861),a=i(439),n=i(757),l=i.n(n),c=i(791),r=i(689),o=i(87),d=i(809),m=i(243),v="80b919ebaba440b66b502ccefd484b0d",u="https://api.themoviedb.org/3/";function h(){return(h=(0,t.Z)(l().mark((function e(s){var i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.Z.get("".concat(u,"movie/").concat(s,"?api_key=").concat(v,"&language=en-US"));case 3:return i=e.sent,e.abrupt("return",i);case 7:throw e.prev=7,e.t0=e.catch(0),console.log(e.t0.message),new Error(e.t0.message);case 11:case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var f=function(e){return h.apply(this,arguments)},_={movieDetails:"MovieDetails_movieDetails__EbgQo",detailsList:"MovieDetails_detailsList__c-mmj",detailsTitle:"MovieDetails_detailsTitle__aL4kz",detailsInfo:"MovieDetails_detailsInfo__YvpVP",movieDetailsInfo:"MovieDetails_movieDetailsInfo__KY5s2",movieDetailsInfoLinks:"MovieDetails_movieDetailsInfoLinks__UUh-m",movieDetailsLink:"MovieDetails_movieDetailsLink__Bth2S",goBackLink:"MovieDetails_goBackLink__0L6Dl"},p=i(184),x=function(){var e,s,i=(0,r.UO)().movieId,n=(0,c.useState)({}),m=(0,a.Z)(n,2),v=m[0],u=m[1],h=(0,c.useState)("idle"),x=(0,a.Z)(h,2),j=x[0],g=x[1],k=(0,c.useState)(null),D=(0,a.Z)(k,2),w=D[0],b=D[1],L=(0,r.TH)(),N=(0,c.useRef)(null!==(e=null===(s=L.state)||void 0===s?void 0:s.from)&&void 0!==e?e:"/");if((0,c.useEffect)((function(){g("pending"),(0,t.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(i).then((function(e){u(e.data),g("idle")})).catch((function(e){b(e)}));case 2:case"end":return e.stop()}}),e)})))()}),[i]),v.id)return(0,p.jsxs)(p.Fragment,{children:["pending"===j&&(0,p.jsx)(d.a,{}),w&&(0,p.jsx)("div",{children:"Something wents wrong. Try again."}),(0,p.jsx)(o.rU,{to:N.current,className:_.goBackLink,children:"Go back"}),(0,p.jsxs)("div",{className:_.movieDetails,children:[(0,p.jsx)("img",{className:_.imageMovDetails,src:"https://image.tmdb.org/t/p/w500".concat(v.poster_path),alt:v.title}),(0,p.jsxs)("ul",{className:_.detailsList,children:[(0,p.jsx)("li",{children:(0,p.jsx)("p",{className:_.detailsTitle,children:"".concat(v.title," (").concat(v.release_date.slice(0,4),")")})}),(0,p.jsx)("li",{children:(0,p.jsxs)("p",{className:_.detailsInfo,children:[" User Score: ","".concat(Math.round(10*v.vote_average),"%")]})}),(0,p.jsx)("li",{children:(0,p.jsxs)("p",{className:_.detailsTitle,children:[" Overview: ",(0,p.jsx)("br",{}),(0,p.jsx)("span",{className:_.detailsInfo,children:"".concat(v.overview)})]})}),(0,p.jsx)("li",{children:(0,p.jsxs)("p",{className:_.detailsTitle,children:[" Genres: ",(0,p.jsx)("br",{}),v.genres.map((function(e){return(0,p.jsxs)("span",{className:_.detailsInfo,children:[" ","".concat(e.name)," "]},e.id)}))]})})]})]}),(0,p.jsx)("h2",{className:_.movieDetailsInfo,children:"Additional information"}),(0,p.jsxs)("ul",{className:_.movieDetailsInfoLinks,children:[(0,p.jsx)("li",{children:(0,p.jsx)(o.rU,{to:"cast",className:_.movieDetailsLink,children:"Cast"})}),(0,p.jsx)("li",{children:(0,p.jsx)(o.rU,{to:"reviews",className:_.movieDetailsLink,children:"Reviews"})})]}),(0,p.jsx)(c.Suspense,{fallback:(0,p.jsx)(d.a,{}),children:(0,p.jsx)(r.j3,{})})]})}}}]);
//# sourceMappingURL=790.701f3101.chunk.js.map